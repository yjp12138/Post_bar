<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="js/jquery-3.3.1.js"></script>
    <link rel="stylesheet" href="css/homePage.css">
    <script>
        $(document).ready(function(){
            $('#message').hover(function(){
                $('#display').show();
            },function(){
                $('#display').hide();
            });
            $('#display').hover(function (){
                $(this).show();
            },function (){
                $(this).hide();
            });
            $("#input").focus(function (){
                $(this).val('');
            });
        });
        $(document).ready(function () {
            $('#find_index').click(function () {
                $.ajax({
                    type : 'post',
                    url : '/forum_war_exploded/Query',
                    data : {
                        title : $('#input').val(),
                        author : $('#input').val(),
                        type : $('#input').val()
                    },
                    dataType: 'json',
                    success : function (result){
                        alert("查询成功")
                        $("#showDiv").empty();
                        $("#showDiv").append("<tr><th align=\"center\">标　题</th><th align=\"center\">类　型</th><th align=\"center\">作　者</th><th align=\"center\">发布时间</th></tr>");
                        for(var i=0;i<result.length;i++)
                        {
                            $("#showDiv").append("<tr style='text-align: center'><td><a href='selfPage.html'>"+result[i].title+"</a></td><td>"+result[i].type+"</td><td>"+result[i].author+"</td><td>"+result[i].issuedTime+"</td></tr>");
                        }
                    },
                    error :function (e){
                        alert("查询空错误！")
                    }
                });
            });
        });
        $(document).ready(function () {
            $('#find_all').click(function () {
                $.ajax({
                    type : 'get',
                    url : '/forum_war_exploded/Query',
                    dataType: 'json',
                    success : function (result){
                        alert("查询成功")
                        $("#showDiv").empty();
                        $("#showDiv").append("<tr><th align=\"center\">标　题</th><th align=\"center\">类　型</th><th align=\"center\">作　者</th><th align=\"center\">发布时间</th></tr>");
                        for(var i=0;i<result.length;i++)
                        {
                            $("#showDiv").append("<tr style='text-align: center'><td><a href='selfPage.html'>"+result[i].title+"</a></td><td>"+result[i].type+"</td><td>"+result[i].author+"</td><td>"+result[i].issuedTime+"</td></tr>");
                        }
                    },
                    error :function (e){
                        alert("查询空错误！")
                    }
                });
            });
        });
    </script>
</head>
<body>
<div id="box">
    <div id="background">
        <img src="https://www.html.cn/st atic/images/logo.png" alt="" title="背景图片">
    </div>
    <div id="menu">
        <ul >
            <li class="on">
                <a href="" id="message">消息</a>
                <ul id="display" class="boxinfo">
                    <li><a href="">回复我的</a></li>
                    <li><a href="">@我的</a></li>
                    <li><a href="">系统通知</a></li>
                </ul>
            </li>
            <li><a href="">动态</a></li>
            <li><a href="">收藏</a></li>
            <li><a href="">历史</a></li>
            <li ><a href="http://localhost:63342/Post_bar/forum/web/selfPage.html" >个人中心</a>
            </li>
        </ul>
    </div>
    <div class="search">
        <img src="picture/1G9350E635.jpg" alt="" style="height: 64px;margin-left: 30%;vertical-align:middle;">
        <input type="text" id="input" value="">
        <button id="find_index" class="find_index" style="outline: none;height: 64px;">搜索帖子</button>
        <button id="find_all" class="find_all" style="outline: none;height: 64px;">全部帖子</button>
    </div>
    <div style="margin-left: 20%">
        <span></span>
    </div>
    <table border="1 "cellpadding="0" cellspacing="0" style="border-collapse:collapse;" width="100%" id="showDiv">
        <tr>
            <th align="center">标　题</th>
            <th align="center">类　型</th>
            <th align="center">作　者</th>
            <th align="center">发布时间</th>

        </tr>

    </table>
</div>
</body>

</html>
